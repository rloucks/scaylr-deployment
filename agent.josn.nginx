  "logs": [
    // System logs
    {
      "path": "/var/log/auth.log*",
      "attributes": {"parser": "systemLog"}
    },
    {
      "path": "/var/log/syslog*",
      "attributes": {"parser": "systemLog"}
    },
    
    // Nginx access logs
    {
      "path": "/var/log/nginx/access.log",
      "attributes": {
        "parser": "accessLog",
        "logtype": "nginx-access"
      }
    },
    
    // Nginx error logs
    {
      "path": "/var/log/nginx/error.log",
      "attributes": {
        "parser": "nginxErrorLog",
        "logtype": "nginx-error"
      }
    },
    
    // SSL/TLS access logs (if you have HTTPS)
    {
      "path": "/var/log/nginx/ssl-access.log",
      "attributes": {
        "parser": "accessLog",
        "logtype": "nginx-ssl-access"
      }
    },
    
    // Virtual host specific logs (add for each vhost)
    {
      "path": "/var/log/nginx/example.com-access.log",
      "attributes": {
        "parser": "accessLog",
        "vhost": "example.com"
      }
    },
    {
      "path": "/var/log/nginx/example.com-error.log",
      "attributes": {
        "parser": "nginxErrorLog",
        "vhost": "example.com"
      }
    },
    
    // PHP-FPM logs (if using PHP)
    {
      "path": "/var/log/php*-fpm/error.log",
      "attributes": {
        "parser": "phpFpmLog",
        "app": "php-fpm"
      }
    },
    {
      "path": "/var/log/php*-fpm/www-error.log",
      "attributes": {
        "parser": "phpFpmLog",
        "app": "php-fpm"
      }
    },
    
    // Application logs (adjust paths as needed)
    {
      "path": "/var/www/*/logs/*.log",
      "attributes": {
        "parser": "json",
        "app": "webapp"
      }
    },
    
    // SSL certificate monitoring
    {
      "path": "/var/log/letsencrypt/letsencrypt.log",
      "attributes": {
        "parser": "systemLog",
        "app": "certbot"
      }
    }
  ],
  
  "monitors": [
    // System metrics (CPU, memory, disk, network)
    {
      "module": "scalyr_agent.builtin_monitors.linux_system_metrics",
      "id": "system"
    },
    
    // Nginx process monitoring
    {
      "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
      "id": "nginx",
      "commandline": "nginx"
    },
    
    // PHP-FPM process monitoring (if using PHP)
    {
      "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
      "id": "php-fpm",
      "commandline": "php-fpm"
    },
    
    // Nginx status monitoring (requires nginx status page enabled)
    {
      "module": "scalyr_agent.builtin_monitors.nginx_monitor",
      "status_url": "http://localhost/nginx_status"
    },
    
    // URL monitoring - check if your site is up
    {
      "module": "scalyr_agent.builtin_monitors.url_monitor",
      "id": "website-health",
      "url": "https://example.com/health",
      "extract_fields": "status_code"
    },
    
    // MySQL monitoring (if you have a database)
    {
      "module": "scalyr_agent.builtin_monitors.mysql_monitor",
      "database_socket": "/var/run/mysqld/mysqld.sock",
      "database_username": "scalyr_monitor",
      "database_password": "CHANGE_ME"
    },
    
    // Redis monitoring (if using Redis)
    {
      "module": "scalyr_agent.builtin_monitors.redis_monitor",
      "redis_host": "localhost",
      "redis_port": 6379
    },
    
    // Docker monitoring (if running containers)
    {
      "module": "scalyr_agent.builtin_monitors.docker_monitor",
      "container_name_include_globs": ["nginx-*", "app-*"]
    }
  ],
"monitors": [
  // ============================================
  // SYSTEM MONITORING
  // ============================================
  
  // Core system metrics - CPU, memory, disk, network
  {
    "module": "scalyr_agent.builtin_monitors.linux_system_metrics",
    "id": "system-metrics",
    "sample_interval": 30
  },
  
  // ============================================
  // PROCESS MONITORING
  // ============================================
  
  // Nginx master/worker processes
  {
    "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
    "id": "nginx-process",
    "commandline": "nginx",
    "sample_interval": 30
  },
  
  // PHP-FPM processes (if using PHP)
  {
    "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
    "id": "php-fpm-process",
    "commandline": "php-fpm",
    "sample_interval": 30
  },
  
  // Monitor specific application processes
  {
    "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
    "id": "app-workers",
    "commandline": "node.*app.js",
    "sample_interval": 30
  },
  
  // ============================================
  // NGINX MONITORING
  // ============================================
  
  // Nginx stub_status monitoring
  // Tracks: active connections, requests/sec, connection states
  {
    "module": "scalyr_agent.builtin_monitors.nginx_monitor",
    "id": "nginx-status",
    "status_url": "http://localhost/nginx_status",
    "sample_interval": 30
  },
  
  // ============================================
  // URL/ENDPOINT MONITORING
  // ============================================
  
  // Monitor main website health
  {
    "module": "scalyr_agent.builtin_monitors.url_monitor",
    "id": "website-homepage",
    "url": "https://example.com",
    "expected_status": 200,
    "timeout": 10,
    "sample_interval": 60,
    "extract_fields": "status_code,response_time"
  },
  
  // Monitor API endpoint
  {
    "module": "scalyr_agent.builtin_monitors.url_monitor",
    "id": "api-health",
    "url": "https://api.example.com/health",
    "expected_status": 200,
    "expected_content": "ok",
    "timeout": 5,
    "sample_interval": 60
  },
  
  // Monitor admin panel
  {
    "module": "scalyr_agent.builtin_monitors.url_monitor",
    "id": "admin-health",
    "url": "https://example.com/admin/health",
    "expected_status": 200,
    "timeout": 10,
    "sample_interval": 120,
    "headers": {
      "Authorization": "Bearer YOUR_HEALTH_CHECK_TOKEN"
    }
  },
  
  // SSL certificate expiry monitoring
  {
    "module": "scalyr_agent.builtin_monitors.url_monitor",
    "id": "ssl-cert-check",
    "url": "https://example.com",
    "verify_certificate": true,
    "timeout": 10,
    "sample_interval": 3600
  },
  
  // ============================================
  // DATABASE MONITORING
  // ============================================
  
  // MySQL/MariaDB monitoring
  {
    "module": "scalyr_agent.builtin_monitors.mysql_monitor",
    "id": "mysql-main",
    "database_socket": "/var/run/mysqld/mysqld.sock",
    "database_username": "scalyr_monitor",
    "database_password": "CHANGE_ME",
    "sample_interval": 30
  },
  
  // PostgreSQL monitoring
  {
    "module": "scalyr_agent.builtin_monitors.postgres_monitor",
    "id": "postgres-main",
    "database_name": "postgres",
    "database_username": "scalyr_monitor",
    "database_password": "CHANGE_ME",
    "database_hostport": "localhost:5432",
    "sample_interval": 30
  },
  
  // ============================================
  // CACHE/QUEUE MONITORING
  // ============================================
  
  // Redis monitoring
  {
    "module": "scalyr_agent.builtin_monitors.redis_monitor",
    "id": "redis-cache",
    "redis_host": "localhost",
    "redis_port": 6379,
    "sample_interval": 30
  },
  
  // Memcached monitoring
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "memcached-stats",
    "command": "echo 'stats' | nc localhost 11211 | grep -E 'curr_connections|get_hits|get_misses|bytes'",
    "sample_interval": 60
  },
  
  // ============================================
  // DOCKER MONITORING (if using containers)
  // ============================================
  
  // Monitor all Docker containers
  {
    "module": "scalyr_agent.builtin_monitors.docker_monitor",
    "id": "docker-all",
    "docker_api_version": "auto",
    "container_check_interval": 60,
    "verify_api_queries": true
  },
  
  // Monitor specific containers only
  {
    "module": "scalyr_agent.builtin_monitors.docker_monitor",
    "id": "docker-apps",
    "container_name_include_globs": ["nginx-*", "app-*", "redis-*"],
    "container_check_interval": 60
  },
  
  // ============================================
  // NETWORK MONITORING
  // ============================================
  
  // Monitor TCP port connectivity
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "port-check-443",
    "command": "nc -zv localhost 443 2>&1 | grep succeeded && echo 'port_443_open=1' || echo 'port_443_open=0'",
    "sample_interval": 60
  },
  
  // Check DNS resolution
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "dns-check",
    "command": "dig +short example.com @8.8.8.8 | wc -l",
    "sample_interval": 300
  },
  
  // ============================================
  // DISK & FILESYSTEM MONITORING
  // ============================================
  
  // Monitor specific directory sizes
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "log-directory-size",
    "command": "du -sb /var/log/nginx | awk '{print \"nginx_log_bytes=\"$1}'",
    "sample_interval": 300
  },
  
  // Monitor inode usage
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "inode-usage",
    "command": "df -i / | tail -1 | awk '{print \"inode_used_percent=\"$5}'",
    "sample_interval": 300
  },
  
  // ============================================
  // CUSTOM SHELL MONITORS
  // ============================================
  
  // Count active Nginx connections
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "nginx-connections",
    "command": "netstat -an | grep :80 | grep ESTABLISHED | wc -l",
    "sample_interval": 30
  },
  
  // Monitor SSL certificate expiry days
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "ssl-cert-days",
    "command": "echo | openssl s_client -servername example.com -connect example.com:443 2>/dev/null | openssl x509 -noout -dates | grep notAfter | sed 's/notAfter=//' | xargs -I {} date -d {} +%s | awk -v now=$(date +%s) '{print \"ssl_days_remaining=\"int(($1-now)/86400)}'",
    "sample_interval": 3600
  },
  
  // Count total requests in last minute (from access log)
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "nginx-requests-per-minute",
    "command": "tail -1000 /var/log/nginx/access.log | grep $(date -d '1 minute ago' '+%d/%b/%Y:%H:%M') | wc -l",
    "sample_interval": 60
  },
  
  // Monitor 5xx errors in last 5 minutes
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "nginx-5xx-errors",
    "command": "tail -10000 /var/log/nginx/access.log | grep -E ' 5[0-9]{2} ' | wc -l",
    "sample_interval": 60
  },
  
  // Check PHP-FPM pool status (if using PHP)
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "php-fpm-status",
    "command": "curl -s http://localhost/fpm-status | grep 'active processes' | awk '{print \"php_fpm_active_processes=\"$NF}'",
    "sample_interval": 30
  },
  
  // ============================================
  // APPLICATION-SPECIFIC MONITORING
  // ============================================
  
  // Node.js application monitoring (if applicable)
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "nodejs-memory",
    "command": "ps aux | grep 'node.*app.js' | grep -v grep | awk '{print \"nodejs_memory_mb=\"int($6/1024)}'",
    "sample_interval": 60
  },
  
  // Queue depth monitoring (example: Redis queue)
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "redis-queue-depth",
    "command": "redis-cli LLEN job_queue | awk '{print \"queue_depth=\"$1}'",
    "sample_interval": 30
  },
  
  // ============================================
  // SECURITY MONITORING
  // ============================================
  
  // Count failed SSH login attempts
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "failed-ssh-attempts",
    "command": "grep 'Failed password' /var/log/auth.log | tail -100 | wc -l",
    "sample_interval": 60
  },
  
  // Monitor file integrity
  {
    "module": "scalyr_agent.builtin_monitors.shell_monitor",
    "id": "nginx-config-checksum",
    "command": "md5sum /etc/nginx/nginx.conf | awk '{print \"nginx_config_md5=\"$1}'",
    "sample_interval": 300
  }
]
